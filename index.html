<html>
  <head>
    <script src="MochiKit/Base.js" type="text/javascript"></script>
    <script src="MochiKit/DOM.js" type="text/javascript"></script>
    <script src="MochiKit/Style.js" type="text/javascript"></script>
    <script src="MochiKit/Signal.js" type="text/javascript"></script>
    <script src="MochiKit/Iter.js" type="text/javascript"></script>
    <script src="util.js" type="text/javascript"></script>
    <script src="select.js" type="text/javascript"></script>
    <script src="tokenize.js" type="text/javascript"></script>
    <script src="highlight.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="highlight.css"/>
    <title>Javascript syntax highlighting</title>
  </head>
  <body>

<textarea id="foo" cols="120" rows="30">
function hasClass(element, className){
  var classes = element.className;
  return classes && new RegExp("(^| )" + className + "($| )").test(classes);
}

function copyArray(array) {
  var newArr = new Array(array.length);
  for (var i = 0; i != array.length; i++)
    newArr[i] = array[i];
  return newArr;
}
</textarea>
<p><button id="buttonA">Button 1</button> <button id="buttonB">Button 2</button></p>

    <script type="text/javascript">
      var js = new JSEditor(partial(swapDOM, $('foo')), 900, 500, $('foo').value);
      var fr = js.frame;

      window.test = window.test || function(){alert("TEST");};

      connect($('buttonA'), "onclick", test);
    </script>
  </body>
</html>