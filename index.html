<html>
  <head>
    <script src="MochiKit/Base.js" type="text/javascript"></script>
    <script src="MochiKit/DOM.js" type="text/javascript"></script>
    <script src="MochiKit/Style.js" type="text/javascript"></script>
    <script src="MochiKit/Signal.js" type="text/javascript"></script>
    <script src="MochiKit/Iter.js" type="text/javascript"></script>
    <script src="util.js" type="text/javascript"></script>
    <script src="highlight.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="highlight.css"/>
    <title>Javascript syntax highlighting</title>
  </head>
  <body>

<textarea id="foo" cols="120" rows="30">
if (x == 4)
  kill(x);

var str = "i am a string";
var regexp = /rege?xp?/; // they say

function (q) {
  console.log(q); /* test! */ print(q + 2);
}
</textarea>
<p><button id="highlight">Highlight text</button> <button id="traverse">Traverse text</button></p>

    <script type="text/javascript">
      addHighlighting("foo");
      connect("highlight", "onclick", function(){highlight($("foo").contentWindow.document.body);});
      connect("traverse", "onclick", function(){window.trav = list(traverseDOM($("foo").contentWindow.document.body.firstChild));});
    </script>
  </body>
</html>